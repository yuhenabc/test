<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>同学闹钟</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="download">
  <style type="text/css">
  body,p,h4,h5,ul,li,a,img {margin: 0; padding: 0}
  a {border: 0;}
  body {font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;}
  .container {background: url('img/bg_bw_sg.png') no-repeat; background-size: 100% auto; position: relative; min-height: 480px;}
  #logo-area {width:100%; position: absolute; top: 234px; clear: both;}
  .logo {width: 244px; display: block; margin: 0 auto;}
  #download-area {width:100%; position: absolute; top: 355px; clear: both;}
  #download-area a {display: block; float: left; width: 100px; height: 100px;}
  #download-area img {width: 100%;}
  #downloads {width: 240px; margin: 0 auto;}
  #copyright {width:100%; position: absolute; top: 484px; clear: both; font-size: 11px; color: #999999; text-align: center;}
  #info-area {width: 100%; height: 100%; position: absolute; top: 0; left: 0; clear: both; background-color: rgba(10,10,10,0.4); z-index: 100;}
  #info-panel {height: 80px; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; background-color: white; margin: 0 5px; z-index: 101;}
  #info-words {height: 80px; font-size: 14px; color: #333333;}
  #info-words p:first-child {height: 40px; line-height: 40px; text-indent: 1em;}
  #info-words p:last-child {margin: 4px; height: 32px; line-height: 32px; text-indent: 1em; background-color: #c8e2f7; border-radius: 2px;}
  #info-words p span {color: red; padding: 0 0.4em;}
  #arrow {height: 30px; width: 30px; background: url(img/arrow.png) no-repeat; position: absolute; top: 4px; right: 30px; background-size: 30px 30px; z-index: 102;}
  .blank {clear: both; height: 1px;}
  #space {height: 100px;  width: 40px; float: left;}
  </style>
</head>
<body>
<div class="container" id="main">
  <div id="logo-area">
    <img class="logo" src="img/logo.png" alt=""/>
  </div>
  <div id="download-area">
    <div id="downloads">
      <a href="" id="iphone"><img src="img/icon_app_store_download.png" alt="" /></a>
      <div id="space"></div>
      <a href="http://au.apk.umeng.com/uploads/apps/537acd2156240b9bea00244d/_umeng_%40_2_%40_9e65058e49df012940a3e452928e68e6.apk" id="android"><img src="img/icon_android_download.png" alt="" /></a>
      <div class="blank"></div>
    </div>
  </div>
  <div id="copyright">Copyright &copy; 2014 Sans Tech.All Right Reserved</div>
</div>
<div id="info-area" style="display:none;">
  <div id="info-panel">
    <div id="info-words">
      <p>微信内无法下载，请点击<span>右上角</span>按钮</p>
      <p>选择<span>「在浏览器中打开」</span>即可正常下载</p>
    </div>
  </div>
</div>
<div id="arrow" style="display:none;"></div>
<script type="text/javascript">
  window.onload = function() {
    var body_width = document.body.clientWidth;
    var bg_height = Math.round(0.92 * body_width);
    // console.log(bg_height);
    if(document.getElementById('logo-area')) {
      document.getElementById('logo-area').style.top = (bg_height-60) + 'px';
    }
    if(document.getElementById('download-area')) {
      document.getElementById('download-area').style.top = (bg_height+61) + 'px';
    }
    if(document.getElementById('copyright')) {
      document.getElementById('copyright').style.top = (bg_height+190) + 'px';
    }
    if(document.getElementById('main')) {
      document.getElementById('main').style.height = (bg_height+215) + 'px';
    }

    var userAgent = navigator.userAgent;
    var isIPhone = userAgent.indexOf("iPhone") > -1;
    var isIPad = userAgent.indexOf("iPad") > -1;
    var isAndroid = userAgent.indexOf("Android") > -1;
    var isWeixin = userAgent.indexOf("MicroMessenger") > -1;
    // console.log(isIPhone,isAndroid,isIPad,isWeixin);
    
    var space = document.getElementById('space');
    var android = document.getElementById('android');
    var iphone = document.getElementById('iphone');
    var downloads = document.getElementById('downloads');

    if(isIPhone || isIPad) {
      space.style.display = 'none';
      android.style.display = 'none';
      downloads.style.width = '100px';
    } else if(isAndroid) {
      space.style.display = 'none';
      iphone.style.display = 'none';
      downloads.style.width = '100px';
    }
    var info_area = document.getElementById('info-area');
    var arrow = document.getElementById('arrow');
    if(isWeixin) {
      android.onclick = function() {
        info_area.style.display = 'block';
        arrow.style.display = 'block';
      }
      iphone.onclick = function() {
        info_area.style.display = 'block';
        arrow.style.display = 'block';
      }
    }
    info_area.onclick = function() {
      info_area.style.display = 'none';
      arrow.style.display = 'none';
    }
  }
</script>
</body>
</html>